function testWebP(e){var o=new Image;o.onload=o.onerror=function(){e(2==o.height)},o.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}testWebP((function(e){1==e?document.querySelector("body").classList.add("webp"):document.querySelector("body").classList.add("no-webp")}));const iconMenu=document.querySelector(".menu__icon"),menuBody=document.querySelector(".menu__body");iconMenu&&iconMenu.addEventListener("click",(function(e){document.body.classList.toggle("_lock"),iconMenu.classList.toggle("_active"),menuBody.classList.toggle("_active")}));let popup=document.querySelector(".popup"),popupBody=document.querySelector(".popup__body"),popupContent=document.querySelector(".popup__content"),openPopupButtons=document.querySelectorAll(".open-popup"),closePopupButton=document.querySelector(".close-popup");openPopupButtons.forEach((e=>{e.addEventListener("click",(e=>{e.preventDefault(),popup.classList.add("open"),popupContent.classList.add("open"),document.body.classList.add("_lock")}))})),closePopupButton.addEventListener("click",(e=>{e.preventDefault(),popup.classList.remove("open"),popupContent.classList.remove("open"),document.body.classList.remove("_lock")})),document.addEventListener("click",(e=>{e.target===popupBody&&(popup.classList.remove("open"),popupContent.classList.remove("open"),document.body.classList.remove("_lock"))})),document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("form");e.addEventListener("submit",(async function(o){o.preventDefault();let t=function(e){let o=!1;const t=document.getElementsByClassName("validation-error");for(;t.length>0;)t[0].parentNode.removeChild(t[0]);document.getElementById("name").value||(document.querySelector(".error-name").innerHTML+=' <span class="validation-error">Enter your name</span>',o=!0);document.getElementById("email").value?function(e){return!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,8})+$/.test(e.value)}(input)&&(document.querySelector(".error-email").innerHTML+=' <span class="validation-error">Incorrect email</span>',o=!0):(document.querySelector(".error-email").innerHTML+='<span class="validation-error">Enter your email</span>',o=!0);return o}(),n=new FormData(e);if(0==t){e.classList.add("_sending");let o=await fetch("sendmail.php",{method:"POST",body:n});if(o.ok){let t=await o.json();alert(t.message),e.reset(),e.classList.remove("_sending")}else document.querySelector(".error").innerHTML+=' <span class="validation-error">Произошла ошибка при отправке формы</span>',e.classList.remove("_sending")}}))}));